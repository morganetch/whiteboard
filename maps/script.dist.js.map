{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","js/src/script.js","js/src/classes/WhiteboardApplication.js","js/src/classes/WhiteboardItem.js"],"names":[],"mappings":"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","file":"script.dist.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","(function(){\n\n\n\tfunction init(){\n\t\tvar page = document.URL.split('?page=')[1].split('&')[0];\n\t\t\n\t\tswitch(page){\n\t\t\tcase 'login':\n\t\t\t\tconsole.log('loginpage');\n\t\t\t\tbreak;\n\n\t\t\tcase 'register':\n\t\t\t\tconsole.log('registerpage');\n\t\t\t\tbreak;\n\n\t\t\tcase 'view':\n\t\t\t\tvar WhiteboardApplication = require('./classes/WhiteboardApplication');\n\t\t\t\tnew WhiteboardApplication(document.querySelector('.view'));\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tinit();\n\n\n})();","module.exports = (function(){\n\n\tvar WhiteboardItem = require('./WhiteboardItem');\n\n\tfunction WhiteboardApplication(el) {\n\t\tthis.el = el;\n\t\tthis.addPicture = el.querySelector('a[href=\"1\"]');\n\t\tthis.addVideo = el.querySelector('a[href=\"2\"]');\n\t\tthis.addText = el.querySelector('a[href=\"3\"]');\n\n\t\tthis.items = this.el.querySelectorAll('.item');\n\t\tthis.whiteboardItems = [];\n\t\tthis.$itemsList = $(el).find('.holder');\n\n\t\tfor(var i = 0; i < this.items.length; i++){\n\t\t\tthis.addItemPreparer(this.items[i]);\n\t\t}\n\n\t\t$(this.items).remove();\n\n\t\t$(this.addText).on('click', this.makeNewItem.bind(this));\n\t\t$(this.addPicture).on('click', this.makeNewItem.bind(this));\n\t\t$(this.addVideo).on('click', this.makeNewItem.bind(this));\n\n\t}\n\n\tWhiteboardApplication.prototype.addItemPreparer = function(article) {\n\n\t\tvar section = article.querySelector('section');\n\t\tvar content;\n\n\t\tswitch(parseInt(section.id)){\n\t\t\tcase 1:\n\t\t\t\tcontent = section.querySelector('img[src^=\"uploads\"]').getAttribute('src');\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\t\t\t\tcontent = section.querySelector('video').getAttribute('src');\n\t\t\t\tbreak;\n\n\t\t\tcase 3:\n\t\t\t\tcontent = section.querySelector('p').innerText;\n\t\t\t\tbreak;\n\t\t}\n\n\t\tvar data = {\n\t\t\tleft: article.style.left,\n\t\t\ttop: article.style.top,\n\t\t\tid: article.id,\n\t\t\ttype: section.id,\n\t\t\ttitle: section.querySelector('h1').innerText,\n\t\t\tdescription: section.querySelector('.desc').innerText,\n\t\t\tcontent: content,\n\t\t\tnew: false\n\t\t}\n\n\t\tthis.addItemHandler(data);\n\t}\n\n\tWhiteboardApplication.prototype.makeNewItem = function(event) {\n\t\tevent.preventDefault();\n\t\tvar type, content, title;\n\n\t\tif(event.target.getAttribute('alt')){\n\t\t\ttype = event.target.parentNode.getAttribute('href');\n\t\t} else {\n\t\t\ttype = event.target.getAttribute('href');\n\t\t}\n\n\t\tswitch(parseInt(type)){\n\t\t\tcase 1:\n\t\t\t\ttitle = 'Nieuwe foto';\n\t\t\t\tcontent = 'uploads/No_image_available.png';\n\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\t\t\t\ttitle = 'Nieuwe video';\n\t\t\t\tcontent = '';\n\t\t\t\tbreak;\n\n\t\t\tcase 3:\n\t\t\t\ttitle = 'Nieuw tekstje';\n\t\t\t\tcontent = 'Omschrijving van uw tekstje';\n\t\t\t\tconsole.log(\"die\");\n\t\t\t\tbreak;\n\t\t}\n\n\t\tvar data = {\n\t\t\tleft: (window.innerWidth/2)-140 +\"px\",\n\t\t\ttop: (window.innerHeight/2)-145 +\"px\",\n\t\t\tid: 5,\n\t\t\ttype: type,\n\t\t\ttitle: title,\n\t\t\tdescription: 'Hier komt een korte omschrijving',\n\t\t\tcontent: content,\n\t\t\tnew: true\n\t\t};\n\n\t\tthis.addItemHandler(data);\n\t};\n\n\tWhiteboardApplication.prototype.addItemHandler = function(data) {\n\t\t// console.log(data);\n\t\tvar item = WhiteboardItem.createItem(data);\n\t\tbean.on(item, \"delete\", this.deleteItemHandler.bind(this));\n\t\tthis.whiteboardItems.push(data);\n\t\tthis.$itemsList.append(item.$el);\n\t};\n\n\tWhiteboardApplication.prototype.deleteItemHandler = function(item) {\n\t\tthis.whiteboardItems.splice(this.whiteboardItems.indexOf(item), 1);\n\t\tconsole.log(\"spliced\");\n\t};\n\n\tWhiteboardApplication.prototype.updateItems = function() {\n\t\t\n\t\t// for(var i = 0; i < this.items.length; i++){\n\t\t// \tthis.addItem(this.items[i]);\n\t\t// }\n\t};\n\n\treturn WhiteboardApplication;\n})();","module.exports = (function(){\n\n\tfunction WhiteboardItem($el, data) {\n\t\tthis.$el = $el;\n\t\tthis.$editButton = this.$el.find('img[alt=\"settings\"]');\n\t\tthis.$dragBar = this.$el.find('div.border');\n\t\tthis.$section = this.$el.find('section');\n\t\tthis.data = data;\n\n\t\t// if(this.data.new){\n\t\t// \tconsole.log(this.$el.find('img[alt=\"settings\"]'));\n\t\t// \tthis.$el.find('img[alt=\"settings\"]').trigger('click');\n\t\t// \tconsole.log(this.$el.find('img[alt=\"settings\"]'));\n\t\t// }\n\n\t\tthis.$editButton.on('click', this.editItemHandler.bind(this));\n\t\tthis.$dragBar.on('mousedown', this.mousedownHandler.bind(this));\n\t}\n\n\tWhiteboardItem.prototype.mousedownHandler = function(event) {\n\t\tevent.preventDefault();\n\n\t\tthis.offsetX = event.offsetX;\n\t\tthis.offsetY = event.offsetY;\n\n\t\tthis._mousemoveHandler = this.mousemoveHandler.bind(this);\n\t\tthis._mouseupHandler = this.mouseupHandler.bind(this);\n\n\t\twindow.addEventListener('mousemove', this._mousemoveHandler );\n\t\twindow.addEventListener('mouseup', this._mouseupHandler );\n\t};\n\n\tWhiteboardItem.prototype.mousemoveHandler = function(event) {\n\t\tthis.$el.css('left', (event.x - this.offsetX) + \"px\");\n\t\tthis.$el.css('top', (event.y - this.offsetY) + \"px\");\n\n\t\tif(this.$el.css('top').split('px')[0] < 40){\n\t\t\tthis.$el.css('top', '40px');\n\t\t}\n\n\n\t};\n\n\tWhiteboardItem.prototype.mouseupHandler = function(event) {\n\n\t\tvar boardId = document.URL.split('id=')[1];\n\t\tvar itemId = event.target.id;\n\t\tvar x = event.x - this.offsetX;\n\t\tvar y = event.y - this.offsetY;\n\n\t\t// $.ajax({\n\t\t// \ttype: \"POST\",\n\t\t// \turl: 'index.php?page=view&id=' + this.boardId,\n\t\t// \tdata: {\tid: this.id,\n\t\t// \t\t\tx: this.el.style.left,\n\t\t// \t\t\ty: this.el.style.top\n\t\t// \t\t},\n\t\t// \tsuccess: function(data) {\n\t\t// \t\tconsole.log('success');\n\t //  \t\t\t// bean.fire(this, 'update', this);\n\t\t// \t  \tconsole.log(data);\n\t\t// \t  },\n\t\t// \t  error: function(error) {\n\t\t// \t  \tconsole.log('error');\n\t\t// \t  \tconsole.log(error);\n\t\t// \t  }\n\t\t// \t});\n\n\t\twindow.removeEventListener('mousemove', this._mousemoveHandler);\n\t\twindow.removeEventListener('mouseup', this._mouseupHandler);\n\t};\n\n\tWhiteboardItem.prototype.editItemHandler = function(event) {\n\t\tevent.preventDefault();\n\n\t\tthis.$section.addClass('hidden');\n\n\t\tvar template = Handlebars.compile( $('#edit-' + this.data.type + '-template').text());\n\t\tthis.$el.append( $(template(this.data)));\n\n\t\tthis.$submit = this.$el.find('input[type=\"submit\"]');\n\t\tthis.$submit.on('submit', this.formHandler.bind(this));\n\n\t\tthis.$delete = this.$el.find('a');\n\t\tthis.$delete.on('click', this.deleteClickHandler.bind(this));\n\t};\n\n\tWhiteboardItem.prototype.formHandler = function(event) {\n\t\t// event.preventDefault();\n\t\tthis.form = this.el.querySelector('form');\n\t\tconsole.log(this.type);\n\n\n\t\tswitch (this.type){\n\t\t\tcase 1:\n\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\n\t\t\t\tbreak;\n\n\t\t\tcase 3:\n\n\t\t\t\tthis.formData = {\n\t\t\t\t\ttitle: this.form.querySelector('input[name=\"title\"]').value,\n\t\t\t\t\tcontent: this.form.querySelector('textarea[name=\"content\"]').value,\n\t\t\t\t\tdesc: this.form.querySelector('textarea[name=\"desc\"]').value\n\t\t\t\t};\n\n\t\t\t\tbreak;\n\t\t}\n\t\t\n\t\t// $.ajax({\n\t\t//   type: \"POST\",\n\t\t//   url: 'index.php?page=view&id=' + this.boardId,\n\t\t//   data: this.formData,\n\t\t//   success: function(data) {\n\t\t//   \tconsole.log('success');\n  // \t\t\tbean.fire(this, 'update', this);\n\n\t\t//   \t// console.log(data);\n\t\t//   \tvar html = data.split('<section class=\"holder\">')[1];\n\t\t//   \tvar htmll = html.split('</section></section>');\n\t\t//   \tconsole.log(htmll);\n\t\t//   },\n\t\t//   error: function(error) {\n\t\t//   \tconsole.log('error');\n\t\t//   \tconsole.log(error);\n\t\t//   }\n\t\t// });\n\n\t};\n\n\n\tWhiteboardItem.prototype.deleteClickHandler = function(event) {\n\t\tevent.preventDefault();\n\t\tthis.$el.remove();\n\t\tbean.fire(this, \"delete\", this);\n\t};\n\n\tWhiteboardItem.createItem = function(data){\n\t\tvar source = $(\"#\" + data.type + \"-template\").html();\n\t\tvar template = Handlebars.compile(source);\n\t\tvar html = template(data);\n\t\treturn new WhiteboardItem($(html), data);\n\n\t}\n\n\treturn WhiteboardItem;\n})();"],"sourceRoot":"/source/"}